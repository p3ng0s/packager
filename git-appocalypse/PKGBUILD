pkgname=git-appocalypse-p3ng0s
pkgver=0.1
pkgrel=1
pkgdesc="git appcalypse for p3ng0s"
arch=("any")
options=('!strip' '!debug')
url="https://raw.githubusercontent.com/p3ng0s/archlive/refs/heads/main/archlive/airootfs/etc/skel/git_apocalypse.sh"
license=('NONE')
depends=('git' 'python' 'python-gitpython')
source=("tools.json" 'git_apocalypse.py')
sha1sums=('SKIP' 'SKIP')

build() {
	echo -e "\e[91m                       \e[37m                                  c=====e\e[0m"
	echo -e "\e[91m                       \e[37m                                     H\e[0m"
	echo -e "\e[91m   ____________   \e[0m\e[37m                                      _,,_H__\e[0m"
	echo -e "\e[91m  (__((__((___()\e[0m \e[33m                                      //\e[37m|     |\e[0m"
	echo -e "\e[91m (__((__((___()()\e[0m\e[33m_____________________________________// \e[37m|\e[31mPULL\e[37m |\e[0m"
	echo -e "\e[91m(__((__((___()()()\e[0m\e[33m------------------------------------'  \e[37m|_____|\e[0m"
	echo -e "\e[0m"
	echo -e "\e[95m ██████╗ ██╗████████╗      █████╗ ██████╗  ██████╗  ██████╗ █████╗ ██╗  ██╗   ██╗██████╗ ███████╗███████╗\e[0m"
	echo -e "\e[95m██╔════╝ ██║╚══██╔══╝     ██╔══██╗██╔══██╗██╔═══██╗██╔════╝██╔══██╗██║  ╚██╗ ██╔╝██╔══██╗██╔════╝██╔════╝\e[0m"
	echo -e "\e[95m██║  ███╗██║   ██║        ███████║██████╔╝██║   ██║██║     ███████║██║   ╚████╔╝ ██████╔╝███████╗█████╗  \e[0m"
	echo -e "\e[95m██║   ██║██║   ██║        ██╔══██║██╔═══╝ ██║   ██║██║     ██╔══██║██║    ╚██╔╝  ██╔═══╝ ╚════██║██╔══╝  \e[0m"
	echo -e "\e[95m╚██████╔╝██║   ██║███████╗██║  ██║██║     ╚██████╔╝╚██████╗██║  ██║███████╗██║   ██║     ███████║███████╗\e[0m"
	echo -e "\e[95m ╚═════╝ ╚═╝   ╚═╝╚══════╝╚═╝  ╚═╝╚═╝      ╚═════╝  ╚═════╝╚═╝  ╚═╝╚══════╝╚═╝   ╚═╝     ╚══════╝╚══════╝\e[0m"
	python git_apocalypse.py -d $srcdir
}

package() {
	cp -ra $srcdir/* $pkgdir/
	rm -rf $pkgdir/tools.json
	rm -rf $pkgdir/git_apocalypse.py
}
